---
import Header from "./Header.astro";
import { useTranslations } from "../i18n/utils";

interface Props {
  lang?: "en" | "es";
}

const { lang = "en" } = Astro.props;
const t = useTranslations(lang);

// URLs para los diferentes idiomas
const isSpanish = lang === "es";
const resumeUrl = isSpanish ? "/cv/es.pdf" : "/cv/en.pdf";
const resumeFilename = isSpanish
  ? "Andres_Posada_CV.pdf"
  : "Andres_Posada_Resume.pdf";
const whatsappMessage = encodeURIComponent(t("whatsapp.message"));
const whatsappUrl = `https://wa.me/573194283920?text=${whatsappMessage}`;
---

<div class="relative">
  <Header currentLang={lang} />

  <!-- Social Media Sidebar -->
  <aside
    class="fixed bottom-8 right-4 md:top-0 md:bottom-0 md:right-0 md:items-end md:justify-center w-auto md:w-20 flex md:flex pb-0 md:pb-36 z-50"
  >
    <ul
      class="flex flex-row md:flex-col gap-4 md:gap-10 text-slate-400 bg-black/40 md:bg-transparent backdrop-blur-lg md:backdrop-blur-none rounded-full md:rounded-none p-4 md:p-0 border border-white/10 md:border-none shadow-lg md:shadow-none"
    >
      <li>
        <a
          href="https://github.com/aposadadev"
          target="_blank"
          rel="noopener noreferrer"
          class="block transition-all duration-200 ease-in-out hover:text-cyan-400 hover:-translate-y-0.5 focus:outline-none active:scale-95"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="22"
            viewBox="0 0 24 24"
            stroke-width="1.8"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path
              d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
            ></path>
          </svg>
        </a>
      </li>
      <li>
        <a
          href="https://instagram.com/aposadadev"
          target="_blank"
          rel="noopener noreferrer"
          class="block transition-all duration-200 ease-in-out hover:text-cyan-400 hover:-translate-y-0.5 focus:outline-none active:scale-95"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="22"
            viewBox="0 0 24 24"
            stroke-width="1.8"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path
              d="M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z"
            ></path>
            <path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path>
            <path d="M16.5 7.5l0 .01"></path>
          </svg>
        </a>
      </li>
      <li>
        <a
          href="https://twitter.com/aposadadev"
          target="_blank"
          rel="noopener noreferrer"
          class="block transition-all duration-200 ease-in-out hover:text-cyan-400 hover:-translate-y-0.5 focus:outline-none active:scale-95"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="19"
            height="19"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
            ></path>
          </svg>
        </a>
      </li>
      <li>
        <a
          href="https://linkedin.com/in/aposadadev"
          target="_blank"
          rel="noopener noreferrer"
          class="block transition-all duration-200 ease-in-out hover:text-cyan-400 hover:-translate-y-0.5 focus:outline-none active:scale-95"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="22"
            viewBox="0 0 24 24"
            stroke-width="1.8"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path
              d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"
            ></path>
            <path d="M8 11l0 5"></path>
            <path d="M8 8l0 .01"></path>
            <path d="M12 16l0 -5"></path>
            <path d="M16 16v-3a2 2 0 0 0 -4 0"></path>
          </svg>
        </a>
      </li>
      <li>
        <a
          href={whatsappUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="block transition-all duration-200 ease-in-out hover:text-cyan-400 hover:-translate-y-0.5 focus:outline-none active:scale-95"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="22"
            viewBox="0 0 24 24"
            stroke-width="1.8"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M3 21l1.65 -3.8a9 9 0 1 1 3.4 2.9l-5.05 .9"></path>
            <path
              d="M9 10a.5 .5 0 0 0 1 0v-1a.5 .5 0 0 0 -1 0v1a5 5 0 0 0 5 5h1a.5 .5 0 0 0 0 -1h-1a.5 .5 0 0 0 0 1"
            ></path>
          </svg>
        </a>
      </li>
    </ul>
  </aside>

  <div class="px-3 md:px-5">
    <section
      id="home"
      class="min-h-screen pt-20 lg:pt-32 mx-auto max-w-[1250px] mt-20"
    >
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 items-center">
        <!-- Content Column -->
        <div class="order-2 lg:order-1 text-center lg:text-left">
          <!-- Greeting -->
          <div class="mb-4">
            <span
              class="text-lg md:text-xl font-inter text-white/70 font-normal"
            >
              {t("home.greeting")}
            </span>
          </div>

          <!-- Main Title -->
          <h1
            class="mt-4 text-4xl md:text-6xl lg:text-7xl text-white font-inter font-extrabold -tracking-wider bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 bg-clip-text text-transparent"
          >
            {t("home.name")}
          </h1>

          <!-- Subtitle -->
          <h2
            class="mt-3 mb-6 text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl text-white font-inter font-normal opacity-90"
          >
            {t("home.role")}
          </h2>

          <!-- Description -->
          <p
            class="text-base sm:text-lg md:text-xl text-white/80 font-inter font-normal leading-relaxed text-balance mb-8"
          >
            {t("home.description")}
          </p>

          <!-- Action Button -->
          <div
            class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mt-10 md:mt-16"
          >
            <a
              href={resumeUrl}
              download={resumeFilename}
              class="group relative px-8 py-3 bg-cyan-400/20 border border-cyan-400/40 text-cyan-400 rounded backdrop-blur-sm font-inter font-medium text-sm md:text-base transition-all duration-300 ease-in-out hover:bg-cyan-400/30 hover:border-cyan-400/60 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-cyan-400/20 overflow-hidden cursor-pointer inline-block text-center"
            >
              <span class="relative z-10">{t("home.downloadResume")}</span>
            </a>
          </div>

          <!-- Quick Stats -->
          <div class="grid grid-cols-2 gap-6 mt-12 opacity-90">
            <div
              class="text-center p-6 bg-white/5 border border-white/10 rounded-xl backdrop-blur-sm transition-all duration-300 ease-in-out hover:bg-white/8 hover:border-cyan-400/30 hover:-translate-y-0.5"
            >
              <div
                class="text-3xl font-bold bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent mb-2"
              >
                7+
              </div>
              <div class="text-sm text-white/70 font-normal">
                {t("home.yearsExperience")}
              </div>
            </div>
            <div
              class="text-center p-6 bg-white/5 border border-white/10 rounded-xl backdrop-blur-sm transition-all duration-300 ease-in-out hover:bg-white/8 hover:border-cyan-400/30 hover:-translate-y-0.5"
            >
              <div
                class="text-3xl font-bold bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent mb-2"
              >
                15+
              </div>
              <div class="text-sm text-white/70 font-normal">
                {t("home.projectsDone")}
              </div>
            </div>
          </div>
        </div>

        <!-- Image Column -->
        <div class="order-1 lg:order-2 flex justify-center">
          <div
            class="relative w-72 h-72 md:w-80 md:h-80 lg:w-96 lg:h-96 mx-auto hero-image-container"
          >
            <div
              class="absolute -top-5 -left-5 -right-5 -bottom-5 rounded-full opacity-30 blur-[20px] z-0 animate-pulse image-glow-bg"
            >
            </div>
            <img
              src="/hero.webp"
              alt="Andrés Posada - Software Engineer"
              class="w-full h-full object-cover rounded-full border-2 border-white/10 relative z-20 transition-all duration-300 hover:scale-105"
              loading="eager"
            />
            <div
              class="absolute inset-0 rounded-full opacity-0 hover:opacity-100 z-30 pointer-events-none transition-opacity duration-300 image-overlay-bg"
            >
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>

<style>
  /* Gradiente complejo para el efecto glow */
  .image-glow-bg {
    background: linear-gradient(45deg, #00d4ff, #9c40ff, #ff006e);
  }

  /* Gradiente complejo para el overlay */
  .image-overlay-bg {
    background: linear-gradient(
      135deg,
      rgba(0, 212, 255, 0.1),
      rgba(156, 64, 255, 0.1),
      rgba(255, 0, 110, 0.1)
    );
  }

  /* Animación personalizada para el glow */
  @keyframes image-glow {
    0% {
      opacity: 0.2;
      transform: scale(1);
    }
    100% {
      opacity: 0.4;
      transform: scale(1.05);
    }
  }

  .hero-image-container .image-glow-bg {
    animation: image-glow 3s ease-in-out infinite alternate;
  }

  /* Prevent focus states from sticking on social links */
  aside a:focus:not(:focus-visible) {
    outline: none;
  }

  aside a:focus-visible {
    outline: 2px solid rgba(0, 212, 255, 0.5);
    outline-offset: 2px;
  }

  /* Reset any stuck active states */
  aside a:not(:hover):not(:active) {
    color: rgb(148 163 184); /* slate-400 */
    transform: translateY(0);
  }
</style>
